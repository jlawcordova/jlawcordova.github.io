---
layout: post
title: Using Caching to Create Performant Systems
tags: caching 101
categories: architecture
featured-image: /public/2021-02-14/2021-02-14-uml-featured-image.png
featured-image-alt: uml abstract feature
description: Create performant systems by utilizing caches into your architecture.
---


``` puml

actor Client
control API
database Cache as "In-Memory Cache"
database DB as "Disk Database"

Client -> API: GET /user/1
group Cache Hit
    API -> Cache: [1] Retrieve User 1
    Cache -> API: [1] User 1
end group
API -> Client: User 1

```

``` puml

actor Client
control API
database Cache as "In-Memory Cache"
database DB as "Disk Database"

Client -> API: GET /user/1
group Cache Miss
    API -> Cache: [1] Retrieve User 1
    Cache -> API: [1] Not Found
end group
group DB Query
    API -> DB: [2] Retrieve User 1
    DB -> API: [2] User 1
end group
group Cache Save
    API -> Cache: [3] Save User 1
    Cache -> API: [3] OK
end group
API -> Client: User 1

```

``` puml

actor Client
control API
database Cache as "In-Memory Cache"
database DB as "Disk Database"

group Write
    Client -> API: POST /user/1
    group Disk Save
        API -> DB: [2] Save User 1
        DB -> API: [2] User 1
    end group
    group Cache Save
        API -> Cache: [1] Save User 1
        Cache -> API: [1] User 1
    end group
    API -> Client: User 1
end group

Client -> API: GET /user/1
group Cache Hit
    API -> Cache: [1] Retrieve User 1
    Cache -> API: [1] User 1
end group
API -> Client: User 1

```


``` puml
actor Client
control API
database DB as "Disk Database"

group First GET
    Client -> API: GET /user/1
    API -> DB: Retrieve User 1
    DB -> API: User 1
    API -> Client: User 1; ETag: 4fc2a
    Client -> Client: Cache User 1
end group

group Conditional GET
    Client -> API: GET /user/1; If-Not-Match: 4fc2a
    API -> Client: 304 Not Modified
    Client -> Client: Use User 1 Cache
end group
```
